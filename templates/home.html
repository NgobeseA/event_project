{% extends "base.html" %} 
{%load static%}
{% block title %}Home | EMS{% endblock title %}
{%block content %}
<section id="hero" class="container-fluid mt-4 p-4">
  <!-- <div class="container text-start">
    <h1 class="hero-title">Plan, Execute, <br>And Enjoy events</h1>
    <p class="hero-subtitle">
      Create, manage, and promote events with our intuitive event management
      system. From conferences to weddings, we've got you covered.
    </p>
    {% if user.is_authenticated %}
      <a href="" class="btn">Get started</a>
    {% else %}
      <button type="button" data-bs-target="#loginModal" data-bs-toggle="modal">Get Started</button>
    {% endif%}

  </div> -->
   <div class="container">
    {% if messages %}
  <div class="messages">
    {% for message in messages %}
      <div class="alert 
        {% if message.tags %}alert-{{ message.tags }}{% else %}alert-info{% endif %}" 
        role="alert">
        {{ message }}
      </div>
    {% endfor %}
  </div>
{% endif %}
    <div class="row align-items-center flex-md-row flex-column-reverse text-center text-md-start">
      <div class="col-md-6 hero-content ">
        <h1 class="mb-3">Plan, Execute, <br>And Enjoy events</h1>
        <p class="mb-4">Create, manage, and promote events with our intuitive event management
      system. From conferences to weddings, we've got you covered.
      </p>
      <a href="" class="button">Browse Events â†’</a>
      </div>
      <div class="col-md-6 mb-4 mb-md-0">
        <img src="{% static 'images/woman.jpg' %}" alt="People enjoying an event" class="img-fluid rounded">
      </div>
    </div>

    <div class="trusted-partners mt-5 text-center">
      <p>We are trusted by many South Africans.</p>
      <div class="d-flex flex-wrap justify-content-center gap-3">
        <p class="text-muted"> Toyota</p>
        <p class="text-muted">Rocking</p>
        <p class="text-muted">Data Centrix</p>
      </div>
    </div>
  </div>
</div>
  <div class="col-md-4"></div>
</section>
<section id="upcoming-events">
  <div class="container">
    <div class="py-3 text-center">
      <p>
        Join us for exciting events! Exhibition, career expo, workshops, live
        music and more.
      </p>
      <h1 class="category-title mb-2">Upcoming Events</h1>
      <hr class="section-divider mb-3">
    </div>
    <!-- filter form in events -->
    <div>
      <form action="" method="post"></form>
    </div>
    <!-- filter end form -->

    <!-- list of events -->
    <div class="row">
            <!-- Django Template Loop - Replace with actual Django template syntax -->
            {% for event in events %}
            <div class="col-12 col-sm-6 col-md-4 col-lg-3">
                <div class="event-card">
                    <!-- Event Thumbnail -->
                    <div class="event-thumbnail">
                        {% if event.image %}
                        <img src="{{ event.image.url }}" alt="{{ event.title }}">
                        {% else %}
                        <i class="fas fa-calendar-check placeholder-icon"></i>
                        {% endif %}
                        
                        <!-- Event Status Badge -->
                        <div class="event-status status-{{ event.status }}">
                            {{ event.get_status_display }}
                        </div>
                        
                        <!-- Duration Badge -->
                        <div class="event-duration">
                            {% if event.start_date == event.end_date %}
                                {{ event.start_time|date:"H:i" }} - {{ event.end_time|date:"H:i" }}
                            {% else %}
                                {{ event.start_date|date:"M d" }} - {{ event.end_date|date:"M d" }}
                            {% endif %}
                        </div>
                    </div>

                    <!-- Event Content -->
                    <div class="event-content">
                        <!-- Event Title -->
                        <h3 class="event-title">{{ event.title }}</h3>
                        
                        <!-- Event Organizer -->
                        <div class="event-organizer">
                            <i class="fas fa-user me-1"></i>
                            {{ event.organizer.get_full_name|default:event.organizer.username }}
                        </div>

                        <!-- Event Description -->
                        <p class="event-description">{{ event.description }}</p>

                        <!-- Event Date and Time -->
                        <div class="event-date-time">
                            <span>
                                <i class="fas fa-calendar me-1"></i>
                                {{ event.start_date|date:"M d, Y" }}
                            </span>
                            <span>
                                <i class="fas fa-clock me-1"></i>
                                {{ event.start_time|date:"H:i" }}
                            </span>
                        </div>

                        <!-- Event Location -->
                        <div class="event-location">
                            {% if event.is_online %}
                                <i class="fas fa-globe me-1"></i>
                                <span>Online Event</span>
                                <span class="online-badge">Virtual</span>
                            {% else %}
                                <i class="fas fa-map-marker-alt me-1"></i>
                                <span>{{ event.venue }}, {{ event.city }}</span>
                            {% endif %}
                        </div>

                        <!-- Event Meta Information -->
                        <div class="event-meta">
                            <div class="event-stats">
                                <span>
                                    <i class="fas fa-eye me-1"></i>
                                    {{ event.views_count }} views
                                </span>
                                {% if event.max_attendees %}
                                <span>
                                    <i class="fas fa-users me-1"></i>
                                    {{ event.attendees.count }}/{{ event.max_attendees }}
                                </span>
                                {% endif %}
                            </div>
                            <div class="event-category">
                                {{ event.get_category_display }}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            {% empty %}
            <!-- No Events Message -->
            <div class="col-12">
                <div class="text-center py-5">
                    <i class="fas fa-calendar-times" style="font-size: 4rem; color: #dee2e6; margin-bottom: 20px;"></i>
                    <h3 class="text-muted">No events found</h3>
                    <p class="text-muted">Check back later for upcoming events!</p>
                </div>
            </div>
            {% endfor %}
        </div>
    <!-- end list of events -->
  </div>
</section>
{% endblock content %}